(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{4975:function(e,a,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/query/explain/[planId]",function(){return o(6318)}])},368:function(e,a,o){"use strict";o.d(a,{v:function(){return t},Z:function(){return g}});var t,l,s=o(5893),r=o(5152),n=o.n(r),d=o(7294),i=[{selector:"node",style:{"border-color":"black","border-width":"1px",label:"data(label)"}},{selector:".tag-root",style:{"background-color":"red"}},{selector:".availability-available",style:{"border-color":"greenyellow","border-width":"4px"}},{selector:".availability-certainly-available",style:{"border-color":"darkgreen","border-width":"4px"}},{selector:".availability-ambiguous",style:{"border-color":"orange","border-width":"4px"}},{selector:".availability-removable",style:{"border-color":"red","border-width":"4px"}},{selector:".selection-root",style:{"background-color":"purple"}},{selector:".selection-selected",style:{"background-color":"blue"}},{selector:"edge[label]",style:{"font-weight":"bold",label:"data(label)","curve-style":"bezier","target-arrow-shape":"triangle"}},{selector:"edge.temporary",style:{"line-style":"dashed","line-color":"blue"}},{selector:"node.new",style:{"border-style":"dashed"}},{selector:"edge.new",style:{"line-style":"dashed"}},{selector:"node.no-ids[label]",style:{color:"red"}},{selector:".group-placeholder",style:{label:"data(label)",events:"no",opacity:0}},{selector:".group",style:{label:"data(label)",events:"no",shape:"round-rectangle","border-style":"dashed","background-opacity":.01}},{selector:".group-1",style:{"background-color":"green",color:"green","border-color":"green","padding-right":"8px"}},{selector:".group-2",style:{"background-color":"red",color:"red","border-color":"red","padding-right":"12px"}},{selector:".group-3",style:{"background-color":"purple",color:"purple","border-color":"purple","padding-right":"16px"}},{selector:".group-4",style:{"background-color":"blue",color:"blue","border-color":"blue","padding-right":"20px"}},{selector:".no-group",style:{label:"",events:"no",opacity:.2,"background-color":"red",width:"60px",height:"60px"}}],c=n()(function(){return Promise.all([o.e(856),o.e(907)]).then(o.bind(o,5054))},{loadableGenerated:{webpack:function(){return[5054]}},ssr:!1});(l=t||(t={})).Schema="schema",l.Query1="query1",l.Query2="query2";var b=[{data:{id:"mongodb",label:"MongoDB"},classes:"group group-1"},{data:{id:"cassandra",label:"Cassandra"},classes:"group group-2"},{data:{id:"postgres",label:"PostgreSQL"},classes:"group group-3"},{data:{id:"neo4j",label:"Neo4j"},classes:"group group-4"},{data:{id:"100",label:"Customer",parent:"postgres"},position:{x:100,y:100},classes:"selection-root"},{data:{id:"Cassandra100",label:void 0,parent:"cassandra"},position:{x:100,y:100},classes:"group-placeholder"},{data:{id:"Neo4j100",label:void 0,parent:"neo4j"},position:{x:100,y:100},classes:"group-placeholder"},{data:{id:"101",label:"Id",parent:"postgres"},position:{x:0,y:100}},{data:{id:"Cassandra101",label:void 0,parent:"cassandra"},position:{x:0,y:100},classes:"group-placeholder"},{data:{id:"Neo4j101",label:void 0,parent:"neo4j"},position:{x:0,y:100},classes:"group-placeholder"},{data:{id:"102",label:"Name",parent:"postgres"},position:{x:0,y:200},classes:"selection-root"},{data:{id:"Neo4j102",label:void 0,parent:"neo4j"},position:{x:0,y:200},classes:"group-placeholder"},{data:{id:"104",label:"Surname",parent:"postgres"},position:{x:100,y:200}},{data:{id:"Neo4j104",label:void 0,parent:"neo4j"},position:{x:100,y:200},classes:"group-placeholder"},{data:{id:"110",label:"Orders",parent:"cassandra"},position:{x:200,y:0},classes:"selection-selected"},{data:{id:"Neo4j110",label:void 0,parent:"neo4j"},position:{x:200,y:0},classes:"group-placeholder"},{data:{id:"111",label:"Order",parent:"cassandra"},position:{x:300,y:0},classes:"selection-selected"},{data:{id:"Mongo111",label:void 0,parent:"mongodb"},position:{x:300,y:0},classes:"group-placeholder"},{data:{id:"Neo4j111",label:void 0,parent:"neo4j"},position:{x:300,y:0},classes:"group-placeholder"},{data:{id:"112",label:"Number",parent:"cassandra"},position:{x:300,y:-100}},{data:{id:"116",label:"Value",parent:"mongodb"},position:{x:400,y:-100}},{data:{id:"113",label:"Contact",parent:"mongodb"},position:{x:400,y:0}},{data:{id:"114",label:"Type",parent:"mongodb"},position:{x:500,y:0}},{data:{id:"115",label:"Name",parent:"mongodb"},position:{x:500,y:-100}},{data:{id:"117",label:"Items",parent:"mongodb"},position:{x:400,y:100},classes:"selection-selected"},{data:{id:"121",label:"Product",parent:"mongodb"},position:{x:400,y:200},classes:"selection-selected"},{data:{id:"123",label:"Name",parent:"mongodb"},position:{x:500,y:300},classes:"selection-root availability-ambiguous"},{data:{id:"122",label:"Id",parent:"mongodb"},position:{x:400,y:300}},{data:{id:"124",label:"Price",parent:"mongodb"},position:{x:500,y:200}},{data:{source:"100",target:"101",label:"1"}},{data:{source:"100",target:"102",label:"3"}},{data:{source:"100",target:"104",label:"7"}},{data:{source:"110",target:"100",label:"21"}},{data:{source:"110",target:"111",label:"23"}},{data:{source:"117",target:"111",label:"36"}},{data:{source:"117",target:"121",label:"39"}},{data:{source:"121",target:"122",label:"47"}},{data:{source:"121",target:"123",label:"49"}},{data:{source:"121",target:"124",label:"51"}},{data:{source:"111",target:"112",label:"25"}},{data:{source:"111",target:"113",label:"27"}},{data:{source:"113",target:"116",label:"33"}},{data:{source:"113",target:"114",label:"29"}},{data:{source:"114",target:"115",label:"31"}},],p=[{data:{id:"mongodb",label:"MongoDB"},classes:"group group-1"},{data:{id:"neo4j",label:"Neo4j"},classes:"group group-4"},{data:{id:"100",label:"Customer",parent:"neo4j"},position:{x:100,y:0},classes:"selection-root"},{data:{id:"102",label:"Name",parent:"neo4j"},position:{x:0,y:0},classes:"selection-root"},{data:{id:"110",label:"Orders",parent:"neo4j"},position:{x:200,y:0},classes:"selection-selected"},{data:{id:"111",label:"Order",parent:"neo4j"},position:{x:300,y:0},classes:"selection-selected"},{data:{id:"Mongodb111",label:void 0,parent:"mongodb"},position:{x:300,y:0},classes:"group-placeholder"},{data:{id:"117",label:"Items",parent:"mongodb"},position:{x:300,y:100},classes:"selection-selected"},{data:{id:"121",label:"Product",parent:"mongodb"},position:{x:300,y:200},classes:"selection-selected"},{data:{id:"123",label:"Name",parent:"mongodb"},position:{x:300,y:300},classes:"selection-root availability-ambiguous"},{data:{source:"100",target:"102",label:"3"}},{data:{source:"110",target:"100",label:"21"}},{data:{source:"110",target:"111",label:"23"}},{data:{source:"117",target:"111",label:"36"}},{data:{source:"117",target:"121",label:"39"}},{data:{source:"121",target:"123",label:"49"}},],u=[{data:{id:"mongodb",label:"MongoDB"},classes:"group group-1"},{data:{id:"cassandra",label:"Cassandra"},classes:"group group-2"},{data:{id:"postgres",label:"PostgreSQL"},classes:"group group-3"},{data:{id:"100",label:"Customer",parent:"cassandra"},position:{x:0,y:0},classes:"selection-root"},{data:{id:"Postgres100",label:void 0,parent:"postgres"},position:{x:0,y:0},classes:"group-placeholder"},{data:{id:"102",label:"Name",parent:"postgres"},position:{x:0,y:100},classes:"selection-root"},{data:{id:"110",label:"Orders",parent:"cassandra"},position:{x:100,y:0},classes:"selection-selected"},{data:{id:"111",label:"Order",parent:"cassandra"},position:{x:200,y:0},classes:"selection-selected"},{data:{id:"Mongodb111",label:"Order",parent:"mongodb"},position:{x:200,y:0},classes:"group-placeholder"},{data:{id:"117",label:"Items",parent:"mongodb"},position:{x:200,y:100},classes:"selection-selected"},{data:{id:"121",label:"Product",parent:"mongodb"},position:{x:200,y:200},classes:"selection-selected"},{data:{id:"123",label:"Name",parent:"mongodb"},position:{x:200,y:300},classes:"selection-root availability-ambiguous"},{data:{source:"100",target:"102",label:"3"}},{data:{source:"110",target:"100",label:"21"}},{data:{source:"110",target:"111",label:"23"}},{data:{source:"117",target:"111",label:"36"}},{data:{source:"117",target:"121",label:"39"}},{data:{source:"121",target:"123",label:"49"}},],g=function(e){var a=(0,d.useState)(void 0),o=a[0],l=a[1];(0,d.useEffect)(function(){o&&!o.destroyed()&&o.fit()});var r=[];return r=e.contentKind===t.Schema?b:e.contentKind===t.Query1?p:u,(0,s.jsx)(c,{id:"cy",elements:r,style:{width:"100%",height:"100%",borderWidth:"2px",borderColor:"black",borderStyle:"solid"},stylesheet:i,autoungrabify:!0,cy:function(e){l(e)}})}},7015:function(e,a,o){"use strict";o.d(a,{S:function(){return g},Z:function(){return h}});var t=o(5893);o(7294);var l=o(244),s=o(9807),r=o(5605),n=o(6777),d=o(3978),i=o(9417),c=o(918),b=o(1664),p=o.n(b);function u(e,a,o,t,l){return{planId:e,cost:a,databases:o,isDefault:t,queries:l}}var g=[u("268ca404-09ba-4b3b-9584-0ba6ceb8c408",441,["Neo4j","MongoDB"],!0,["MATCH (customer:Customer)-[:ORDERED]->(order:Order)\nRETURN customer.name AS customerName, order.number AS orderNumber",'db.order.find({\n  items: {\n    name: "Lord of the Rings"\n  }\n},\n{\n  _id: 0,\n  number: 1,\n  productName: {\n    "$getField": {\n      field: "name",\n      input: {\n        "$first": {\n          "$filter": {\n            input: "$items",\n            cond: {\n              $eq: [\n                "$$this.name",\n                "Lord of the Rings"\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n})',]),u("b158d3d9-034b-407c-98cb-ac3d9ccf88ab",639,["PostgreSQL","Cassandra","MongoDB"],!1,["SELECT id, name\nFROM customer","SELECT customer_id, order_number\nFROM orders",'db.order.find({\n  items: {\n    name: "Lord of the Rings"\n  }\n},\n{\n  _id: 0,\n  number: 1,\n  productName: {\n    "$getField": {\n      field: "name",\n      input: {\n        "$first": {\n          "$filter": {\n            input: "$items",\n            cond: {\n              $eq: [\n                "$$this.name",\n                "Lord of the Rings"\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n})',]),];function h(){return(0,t.jsx)(n.Z,{component:c.Z,children:(0,t.jsxs)(l.Z,{sx:{minWidth:650},"aria-label":"execution plans table",children:[(0,t.jsx)(d.Z,{children:(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(r.Z,{children:"Plan\xa0ID"}),(0,t.jsx)(r.Z,{align:"right",children:"Plan\xa0Cost"}),(0,t.jsx)(r.Z,{align:"right",children:"Databases\xa0Used"}),(0,t.jsx)(r.Z,{align:"right",children:"More\xa0Details"})]})}),(0,t.jsx)(s.Z,{children:g.map(function(e){return(0,t.jsxs)(i.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,t.jsxs)(r.Z,{component:"th",scope:"row",children:[e.planId,e.isDefault?" (default)":""]}),(0,t.jsx)(r.Z,{align:"right",children:e.cost}),(0,t.jsx)(r.Z,{align:"right",children:e.databases.join(", ")}),(0,t.jsx)(r.Z,{align:"right",children:(0,t.jsx)(p(),{href:"explain/".concat(e.planId),children:"Plan\xa0Details"})})]},e.planId)})})]})})}},6318:function(e,a,o){"use strict";o.r(a);var t=o(5893),l=o(9072),s=o(2851),r=o(9144),n=o(5084),d=o(1953),i=o(1664),c=o.n(i),b=o(1163),p=o(368),u=o(7015),g=function(){var e=(0,b.useRouter)().query.planId,a="268ca404-09ba-4b3b-9584-0ba6ceb8c408"===e?p.v.Query1:p.v.Query2,o=u.S.find(function(a){return a.planId===e}),i=[];return i.push((0,t.jsx)(l.ZP,{item:!0,children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Plan ID: "}),e]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Plan cost: "}),null==o?void 0:o.cost]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Databases used: "}),null==o?void 0:o.databases.join(", ")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Is default plan: "}),(null==o?void 0:o.isDefault)?"Yes":"No"]})]})})),null==o||o.databases.forEach(function(a,r){i.push((0,t.jsx)(l.ZP,{item:!0,width:"100%",children:(0,t.jsx)(s.Z,{label:a,defaultValue:null==o?void 0:o.queries[r],multiline:!0,fullWidth:!0,spellCheck:!1,maxRows:"268ca404-09ba-4b3b-9584-0ba6ceb8c408"===e?12:7,minRows:"268ca404-09ba-4b3b-9584-0ba6ceb8c408"===e?12:7})}))}),i.push((0,t.jsx)(l.ZP,{item:!0,children:(0,t.jsxs)(r.Z,{spacing:2,direction:"row",children:[(0,t.jsx)(n.Z,{variant:"contained",children:(0,t.jsx)(c(),{href:"/query/execute",children:"Execute plan"})}),(0,t.jsx)(n.Z,{variant:"outlined",children:(0,t.jsx)(c(),{href:"/query/explain",children:"Back"})})]})})),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(d.Z,{sx:{flexGrow:1,height:"100%"},children:(0,t.jsxs)(l.ZP,{container:!0,columnSpacing:2,sx:{height:"100%"},children:[(0,t.jsx)(l.ZP,{item:!0,xs:6,children:(0,t.jsx)(p.Z,{schemaCategory:void 0,contentKind:a})}),(0,t.jsx)(l.ZP,{item:!0,xs:6,children:(0,t.jsx)(l.ZP,{container:!0,height:"100%",flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",children:i})})]})})})};a.default=g}},function(e){e.O(0,[998,72,278,494,774,888,179],function(){return e(e.s=4975)}),_N_E=e.O()}]);