(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{4975:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/query/explain/[planId]",function(){return i(6318)}])},7015:function(n,e,i){"use strict";i.d(e,{AC:function(){return j},FZ:function(){return b},WC:function(){return f},ZP:function(){return m}});var r=i(5893);i(7294);var s=i(244),t=i(9807),c=i(5605),a=i(6777),l=i(3978),d=i(9417),u=i(918),o=i(1664),h=i.n(o);function x(n,e,i,r,s){return{planId:n,cost:e,databases:i,isDefault:r,queries:s}}var b=[441,829],j=[350,625],f=function(){return[x("268ca404-09ba-4b3b-9584-0ba6ceb8c408",b[0],["Neo4j","MongoDB"],!0,['MATCH (customer:Customer)-[:ORDERED]->(order:Order)\nWHERE customer.name <> "Peter"\nRETURN customer.name AS customerName, order.number AS orderNumber','db.order.find({}, {\n  _id: 1,\n  "items.name": 1\n})',]),x("b158d3d9-034b-407c-98cb-ac3d9ccf88ab",b[1],["PostgreSQL","Cassandra","MongoDB"],!1,["SELECT id, name\nFROM customer\nWHERE name != 'Peter'","SELECT customer_id, order_number\nFROM orders",'db.order.find({}, {\n  _id: 1,\n  "items.name": 1\n})',]),]};function m(){return(0,r.jsx)(a.Z,{component:u.Z,children:(0,r.jsxs)(s.Z,{sx:{minWidth:650},"aria-label":"execution plans table",children:[(0,r.jsx)(l.Z,{children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{children:"Plan\xa0ID"}),(0,r.jsx)(c.Z,{align:"right",children:"Plan\xa0Cost"}),(0,r.jsx)(c.Z,{align:"right",children:"Databases\xa0Used"}),(0,r.jsx)(c.Z,{align:"right",children:"More\xa0Details"})]})}),(0,r.jsx)(t.Z,{children:f().map(function(n){return(0,r.jsxs)(d.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,r.jsxs)(c.Z,{component:"th",scope:"row",children:[n.planId,n.isDefault?" (default)":""]}),(0,r.jsx)(c.Z,{align:"right",children:n.cost}),(0,r.jsx)(c.Z,{align:"right",children:n.databases.join(", ")}),(0,r.jsx)(c.Z,{align:"right",children:(0,r.jsx)(h(),{href:"explain/".concat(n.planId),children:"Plan\xa0Details"})})]},n.planId)})})]})})}},6318:function(n,e,i){"use strict";i.r(e);var r=i(5893),s=i(9072),t=i(2851),c=i(9144),a=i(5084),l=i(1953),d=i(1664),u=i.n(d),o=i(1163),h=i(7294),x=i(368),b=i(7015),j=function(){var n=(0,o.useRouter)().query.planId,e="268ca404-09ba-4b3b-9584-0ba6ceb8c408"===n?x.v.Query1:x.v.Query2,i=(0,b.WC)().find(function(e){return e.planId===n}),d=(0,b.WC)().findIndex(function(e){return e.planId===n}),j=(0,h.useReducer)(function(n){return n+1},0),f=(j[0],j[1]),m=[];return m.push((0,r.jsx)(s.ZP,{item:!0,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Plan ID: "}),n]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Plan cost: "}),null==i?void 0:i.cost]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Databases used: "}),null==i?void 0:i.databases.join(", ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Is default plan: "}),(null==i?void 0:i.isDefault)?"Yes":"No"]})]})})),null==i||i.databases.forEach(function(e,c){m.push((0,r.jsx)(s.ZP,{item:!0,width:"100%",children:(0,r.jsx)(t.Z,{label:e,defaultValue:null==i?void 0:i.queries[c],multiline:!0,fullWidth:!0,spellCheck:!1,maxRows:"268ca404-09ba-4b3b-9584-0ba6ceb8c408"===n?12:7,minRows:"268ca404-09ba-4b3b-9584-0ba6ceb8c408"===n?12:7})}))}),m.push((0,r.jsx)(s.ZP,{item:!0,children:(0,r.jsxs)(c.Z,{spacing:2,direction:"row",children:[(0,r.jsx)(a.Z,{variant:"contained",children:(0,r.jsx)(u(),{href:"/query/execute",children:"Execute plan"})}),(0,r.jsx)(a.Z,{variant:"outlined",onClick:function(){b.FZ[d]=b.AC[d],f()},children:"Recalculate plan cost"}),(0,r.jsx)(a.Z,{variant:"outlined",children:(0,r.jsx)(u(),{href:"/query/explain",children:"Back"})})]})})),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{sx:{flexGrow:1,height:"100%"},children:(0,r.jsxs)(s.ZP,{container:!0,columnSpacing:2,sx:{height:"100%"},children:[(0,r.jsx)(s.ZP,{item:!0,xs:6,children:(0,r.jsx)(x.Z,{schemaCategory:void 0,contentKind:e})}),(0,r.jsx)(s.ZP,{item:!0,xs:6,children:(0,r.jsx)(s.ZP,{container:!0,height:"100%",flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",children:m})})]})})})};e.default=j}},function(n){n.O(0,[998,851,72,494,368,774,888,179],function(){return n(n.s=4975)}),_N_E=n.O()}]);